function p(){}function me(e,t){for(const n in t)e[n]=t[n];return e}function J(e){return e()}function H(){return Object.create(null)}function R(e){e.forEach(J)}function Q(e){return typeof e=="function"}function T(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function pe(e){return Object.keys(e).length===0}function ye(e,...t){if(e==null)return p;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function tt(e,t,n){e.$$.on_destroy.push(ye(t,n))}function ge(e,t,n,i){if(e){const o=Y(e,t,n,i);return e[0](o)}}function Y(e,t,n,i){return e[1]&&i?me(n.ctx.slice(),e[1](i(t))):n.ctx}function we(e,t,n,i){if(e[2]&&i){const o=e[2](i(n));if(t.dirty===void 0)return o;if(typeof o=="object"){const a=[],r=Math.max(t.dirty.length,o.length);for(let s=0;s<r;s+=1)a[s]=t.dirty[s]|o[s];return a}return t.dirty|o}return t.dirty}function be(e,t,n,i,o,a){if(o){const r=Y(t,n,i,a);e.p(r,o)}}function xe(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let i=0;i<n;i++)t[i]=-1;return t}return-1}function ve(e){return e&&Q(e.destroy)?e.destroy:p}let j=!1;function ke(){j=!0}function Ee(){j=!1}function Se(e,t,n,i){for(;e<t;){const o=e+(t-e>>1);n(o)<=i?e=o+1:t=o}return e}function Ce(e){if(e.hydrate_init)return;e.hydrate_init=!0;let t=e.childNodes;if(e.nodeName==="HEAD"){const u=[];for(let c=0;c<t.length;c++){const _=t[c];_.claim_order!==void 0&&u.push(_)}t=u}const n=new Int32Array(t.length+1),i=new Int32Array(t.length);n[0]=-1;let o=0;for(let u=0;u<t.length;u++){const c=t[u].claim_order,_=(o>0&&t[n[o]].claim_order<=c?o+1:Se(1,o,l=>t[n[l]].claim_order,c))-1;i[u]=n[_]+1;const f=_+1;n[f]=u,o=Math.max(f,o)}const a=[],r=[];let s=t.length-1;for(let u=n[o]+1;u!=0;u=i[u-1]){for(a.push(t[u-1]);s>=u;s--)r.push(t[s]);s--}for(;s>=0;s--)r.push(t[s]);a.reverse(),r.sort((u,c)=>u.claim_order-c.claim_order);for(let u=0,c=0;u<r.length;u++){for(;c<a.length&&r[u].claim_order>=a[c].claim_order;)c++;const _=c<a.length?a[c]:null;e.insertBefore(r[u],_)}}function Re(e,t){e.appendChild(t)}function Ae(e,t){if(j){for(Ce(e),(e.actual_end_child===void 0||e.actual_end_child!==null&&e.actual_end_child.parentElement!==e)&&(e.actual_end_child=e.firstChild);e.actual_end_child!==null&&e.actual_end_child.claim_order===void 0;)e.actual_end_child=e.actual_end_child.nextSibling;t!==e.actual_end_child?(t.claim_order!==void 0||t.parentNode!==e)&&e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling}else(t.parentNode!==e||t.nextSibling!==null)&&e.appendChild(t)}function I(e,t,n){j&&!n?Ae(e,t):(t.parentNode!==e||t.nextSibling!=n)&&e.insertBefore(t,n||null)}function y(e){e.parentNode.removeChild(e)}function S(e){return document.createElement(e)}function W(e){return document.createTextNode(e)}function ze(){return W(" ")}function nt(){return W("")}function F(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function g(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function M(e){return Array.from(e.childNodes)}function Ie(e){e.claim_info===void 0&&(e.claim_info={last_index:0,total_claimed:0})}function U(e,t,n,i,o=!1){Ie(e);const a=(()=>{for(let r=e.claim_info.last_index;r<e.length;r++){const s=e[r];if(t(s)){const u=n(s);return u===void 0?e.splice(r,1):e[r]=u,o||(e.claim_info.last_index=r),s}}for(let r=e.claim_info.last_index-1;r>=0;r--){const s=e[r];if(t(s)){const u=n(s);return u===void 0?e.splice(r,1):e[r]=u,o?u===void 0&&e.claim_info.last_index--:e.claim_info.last_index=r,s}}return i()})();return a.claim_order=e.claim_info.total_claimed,e.claim_info.total_claimed+=1,a}function Le(e,t,n,i){return U(e,o=>o.nodeName===t,o=>{const a=[];for(let r=0;r<o.attributes.length;r++){const s=o.attributes[r];n[s.name]||a.push(s.name)}a.forEach(r=>o.removeAttribute(r))},()=>i(t))}function O(e,t,n){return Le(e,t,n,S)}function qe(e,t){return U(e,n=>n.nodeType===3,n=>{const i=""+t;if(n.data.startsWith(i)){if(n.data.length!==i.length)return n.splitText(i.length)}else n.data=i},()=>W(t),!0)}function Me(e){return qe(e," ")}function it(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function Ne(e,t,n,i){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,i?"important":"")}let A;function je(){if(A===void 0){A=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch{A=!0}}return A}function rt(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const i=S("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const o=je();let a;return o?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",a=F(window,"message",r=>{r.source===i.contentWindow&&t()})):(i.src="about:blank",i.onload=()=>{a=F(i.contentWindow,"resize",t)}),Re(e,i),()=>{(o||a&&i.contentWindow)&&a(),y(i)}}let C;function E(e){C=e}function v(){if(!C)throw new Error("Function called outside component initialization");return C}function De(e){v().$$.on_mount.push(e)}function st(e){v().$$.after_update.push(e)}function X(e){v().$$.on_destroy.push(e)}function Fe(e,t){v().$$.context.set(e,t)}function Oe(e){return v().$$.context.get(e)}function Pe(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(i=>i.call(this,t))}const k=[],N=[],L=[],K=[],Z=Promise.resolve();let P=!1;function $(){P||(P=!0,Z.then(ee))}function ot(){return $(),Z}function B(e){L.push(e)}const D=new Set;let z=0;function ee(){const e=C;do{for(;z<k.length;){const t=k[z];z++,E(t),Be(t.$$)}for(E(null),k.length=0,z=0;N.length;)N.pop()();for(let t=0;t<L.length;t+=1){const n=L[t];D.has(n)||(D.add(n),n())}L.length=0}while(k.length);for(;K.length;)K.pop()();P=!1,D.clear(),E(e)}function Be(e){if(e.fragment!==null){e.update(),R(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(B)}}const q=new Set;let w;function ut(){w={r:0,c:[],p:w}}function ct(){w.r||R(w.c),w=w.p}function te(e,t){e&&e.i&&(q.delete(e),e.i(t))}function Te(e,t,n,i){if(e&&e.o){if(q.has(e))return;q.add(e),w.c.push(()=>{q.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}}function at(e,t){const n={},i={},o={$$scope:1};let a=e.length;for(;a--;){const r=e[a],s=t[a];if(s){for(const u in r)u in s||(i[u]=1);for(const u in s)o[u]||(n[u]=s[u],o[u]=1);e[a]=s}else for(const u in r)o[u]=1}for(const r in i)r in n||(n[r]=void 0);return n}function lt(e){return typeof e=="object"&&e!==null?e:{}}function ft(e){e&&e.c()}function dt(e,t){e&&e.l(t)}function We(e,t,n,i){const{fragment:o,on_mount:a,on_destroy:r,after_update:s}=e.$$;o&&o.m(t,n),i||B(()=>{const u=a.map(J).filter(Q);r?r.push(...u):R(u),e.$$.on_mount=[]}),s.forEach(B)}function Ve(e,t){const n=e.$$;n.fragment!==null&&(R(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function He(e,t){e.$$.dirty[0]===-1&&(k.push(e),$(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ne(e,t,n,i,o,a,r,s=[-1]){const u=C;E(e);const c=e.$$={fragment:null,ctx:null,props:a,update:p,not_equal:o,bound:H(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:H(),dirty:s,skip_bound:!1,root:t.target||u.$$.root};r&&r(c.root);let _=!1;if(c.ctx=n?n(e,t.props||{},(f,l,...d)=>{const b=d.length?d[0]:l;return c.ctx&&o(c.ctx[f],c.ctx[f]=b)&&(!c.skip_bound&&c.bound[f]&&c.bound[f](b),_&&He(e,f)),l}):[],c.update(),_=!0,R(c.before_update),c.fragment=i?i(c.ctx):!1,t.target){if(t.hydrate){ke();const f=M(t.target);c.fragment&&c.fragment.l(f),f.forEach(y)}else c.fragment&&c.fragment.c();t.intro&&te(e.$$.fragment),We(e,t.target,t.anchor,t.customElement),Ee(),ee()}E(u)}class ie{$destroy(){Ve(this,1),this.$destroy=p}$on(t,n){const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(t){this.$$set&&!pe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const x=[];function Ke(e,t){return{subscribe:Ge(e,t).subscribe}}function Ge(e,t=p){let n;const i=new Set;function o(s){if(T(e,s)&&(e=s,n)){const u=!x.length;for(const c of i)c[1](),x.push(c,e);if(u){for(let c=0;c<x.length;c+=2)x[c][0](x[c+1]);x.length=0}}}function a(s){o(s(e))}function r(s,u=p){const c=[s,u];return i.add(c),i.size===1&&(n=t(o)||p),s(e),()=>{i.delete(c),i.size===0&&(n(),n=null)}}return{set:o,update:a,subscribe:r}}const Je=["focus","blur","fullscreenchange","fullscreenerror","scroll","cut","copy","paste","keydown","keypress","keyup","auxclick","click","contextmenu","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseout","mouseup","pointerlockchange","pointerlockerror","select","wheel","drag","dragend","dragenter","dragstart","dragleave","dragover","drop","touchcancel","touchend","touchmove","touchstart","pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture"];function Qe(){const e=v();return t=>{const n=Je.map(i=>F(t,i,o=>Pe(e,o)));return{destroy:()=>n.forEach(i=>i())}}}class Ye{constructor(){this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.resize=this.resize.bind(this),this.render=this.render.bind(this),this.currentLayerId=0,this.setups=new Map,this.renderers=new Map,this.needsSetup=!1,this.needsResize=!0,this.needsRedraw=!0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}resize(){this.needsResize=!0,this.needsRedraw=!0}register({setup:t,render:n}){return t&&(this.setups.set(this.currentLayerId,t),this.needsSetup=!0),this.renderers.set(this.currentLayerId,n),this.needsRedraw=!0,this.currentLayerId++}unregister(t){this.renderers.delete(t),this.needsRedraw=!0}render({autoclear:t,pixelRatio:n,context:i,width:o,height:a}){const r={context:i,width:o,height:a};if(this.needsResize&&(i.setTransform(n,0,0,n,0,0),this.needsResize=!1),this.needsSetup){for(const[s,u]of this.setups)u(r),this.setups.delete(s);this.needsSetup=!1}if(this.needsRedraw){t&&i.clearRect(0,0,o,a);for(const s of this.layerSequence)this.renderers.get(s)(r);this.needsRedraw=!1}}}function Ue(e){let t,n,i,o,a,r,s,u,c;const _=e[13].default,f=ge(_,e,e[12],null);return{c(){t=S("canvas"),a=ze(),r=S("div"),f&&f.c(),this.h()},l(l){t=O(l,"CANVAS",{style:!0,width:!0,height:!0}),M(t).forEach(y),a=Me(l),r=O(l,"DIV",{style:!0});var d=M(r);f&&f.l(d),d.forEach(y),this.h()},h(){g(t,"style",n="display: block; width: "+e[1]+"px; height: "+e[2]+"px;"+(e[3]?` ${e[3]}`:"")),g(t,"width",i=e[1]*e[0]),g(t,"height",o=e[2]*e[0]),Ne(r,"display","none")},m(l,d){I(l,t,d),e[14](t),I(l,a,d),I(l,r,d),f&&f.m(r,null),e[15](r),s=!0,u||(c=ve(e[6].call(null,t)),u=!0)},p(l,[d]){(!s||d&14&&n!==(n="display: block; width: "+l[1]+"px; height: "+l[2]+"px;"+(l[3]?` ${l[3]}`:"")))&&g(t,"style",n),(!s||d&3&&i!==(i=l[1]*l[0]))&&g(t,"width",i),(!s||d&5&&o!==(o=l[2]*l[0]))&&g(t,"height",o),f&&f.p&&(!s||d&4096)&&be(f,_,l,l[12],s?we(_,l[12],d,null):xe(l[12]),null)},i(l){s||(te(f,l),s=!0)},o(l){Te(f,l),s=!1},d(l){l&&y(t),e[14](null),l&&y(a),l&&y(r),f&&f.d(l),e[15](null),u=!1,c()}}}const re={};function Xe(e,t,n){let{$$slots:i={},$$scope:o}=t,{width:a=640,height:r=640,pixelRatio:s=void 0,style:u=null,autoclear:c=!0}=t,_,f,l,d,b;const ue=Qe(),m=new Ye;function ce(){m.redraw()}function ae(){return _}function le(){return f}s===void 0&&(typeof window=="undefined"?s=2:s=window.devicePixelRatio);function V(){m.render({context:f,width:a,height:r,pixelRatio:s,autoclear:c}),l=window.requestAnimationFrame(V)}Fe(re,{register:m.register,unregister:m.unregister,redraw:m.redraw}),De(()=>{f=_.getContext("2d"),b=new MutationObserver(h),b.observe(d,{childList:!0}),h(),V();function h(){const he=[...d.children].map(_e=>+_e.dataset.layerId);n(11,m.layerSequence=he,m),m.redraw()}}),X(()=>{typeof window!="undefined"&&(window.cancelAnimationFrame(l),b.disconnect())});function fe(h){N[h?"unshift":"push"](()=>{_=h,n(4,_)})}function de(h){N[h?"unshift":"push"](()=>{d=h,n(5,d)})}return e.$$set=h=>{"width"in h&&n(1,a=h.width),"height"in h&&n(2,r=h.height),"pixelRatio"in h&&n(0,s=h.pixelRatio),"style"in h&&n(3,u=h.style),"autoclear"in h&&n(7,c=h.autoclear),"$$scope"in h&&n(12,o=h.$$scope)},e.$$.update=()=>{e.$$.dirty&2183&&m.resize()},[s,a,r,u,_,d,ue,c,ce,ae,le,m,o,i,fe,de]}class ht extends ie{constructor(t){super();ne(this,t,Xe,Ue,T,{width:1,height:2,pixelRatio:0,style:3,autoclear:7,redraw:8,getCanvas:9,getContext:10})}get redraw(){return this.$$.ctx[8]}get getCanvas(){return this.$$.ctx[9]}get getContext(){return this.$$.ctx[10]}}function Ze(e){let t;return{c(){t=S("div"),this.h()},l(n){t=O(n,"DIV",{"data-layer-id":!0}),M(t).forEach(y),this.h()},h(){g(t,"data-layer-id",e[0])},m(n,i){I(n,t,i)},p,i:p,o:p,d(n){n&&y(t)}}}function $e(e,t,n){const{register:i,unregister:o,redraw:a}=Oe(re);let{setup:r=void 0,render:s=()=>{}}=t;if(typeof r!="function"&&r!==void 0)throw new Error("setup must be a function");if(typeof s!="function")throw new Error("render must be a function");const u=i({setup:r,render:s});return X(()=>o(u)),e.$$set=c=>{"setup"in c&&n(1,r=c.setup),"render"in c&&n(2,s=c.render)},e.$$.update=()=>{e.$$.dirty&4&&a()},[u,r,s]}class _t extends ie{constructor(t){super();ne(this,t,$e,Ze,T,{setup:1,render:2})}}let G;const se=Date.now();function oe(e){return e(Date.now()-se),G=window.requestAnimationFrame(()=>oe(e)),()=>window.cancelAnimationFrame(G)}function et(){}Ke(Date.now()-se,typeof window=="undefined"?et:oe);export{lt as A,Ve as B,me as C,Ge as D,ot as E,ge as F,be as G,xe as H,we as I,Ae as J,p as K,Ke as L,tt as M,_t as N,ve as O,B as P,rt as Q,ht as R,ie as S,M as a,g as b,O as c,y as d,S as e,Ne as f,I as g,qe as h,ne as i,it as j,ze as k,nt as l,Me as m,ut as n,Te as o,ct as p,te as q,Fe as r,T as s,W as t,st as u,De as v,ft as w,dt as x,We as y,at as z};
